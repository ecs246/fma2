// ColorBox v1.3.19 - jQuery lightbox plugin
// (c) 2011 Jack Moore - jacklmoore.com
// License: http://www.opensource.org/licenses/mit-license.php
(function(a,b,c){function d(c,d,e){var f=b.createElement(c);return d&&(f.id=p+d),e&&(f.style.cssText=e),a(f)}function e(a){var b=I.length,c=($+a)%b;return c<0?b+c:c}function f(a,b){return Math.round((/%/.test(a)?(b==="x"?J.width():J.height())/100:1)*parseInt(a,10))}function g(a){return U.photo||/\.(gif|png|jpe?g|bmp|ico)((#|\?).*)?$/i.test(a)}function h(){var b;U=a.extend({},a.data(Z,o));for(b in U)a.isFunction(U[b])&&b.slice(0,2)!=="on"&&(U[b]=U[b].call(Z));U.rel=U.rel||Z.rel||"nofollow",U.href=U.href||a(Z).attr("href"),U.title=U.title||Z.title,typeof U.href=="string"&&(U.href=a.trim(U.href))}function i(b,c){a.event.trigger(b),c&&c.call(Z)}function j(){var a,b=p+"Slideshow_",c="click."+p,d,e,f;U.slideshow&&I[1]?(d=function(){P.text(U.slideshowStop).unbind(c).bind(t,function(){if(U.loop||I[$+1])a=setTimeout(eb.next,U.slideshowSpeed)}).bind(s,function(){clearTimeout(a)}).one(c+" "+u,e),B.removeClass(b+"off").addClass(b+"on"),a=setTimeout(eb.next,U.slideshowSpeed)},e=function(){clearTimeout(a),P.text(U.slideshowStart).unbind([t,s,u,c].join(" ")).one(c,function(){eb.next(),d()}),B.removeClass(b+"on").addClass(b+"off")},U.slideshowAuto?d():e()):B.removeClass(b+"off "+b+"on")}function k(b){cb||(Z=b,h(),I=a(Z),$=0,U.rel!=="nofollow"&&(I=a("."+q).filter(function(){var b=a.data(this,o).rel||this.rel;return b===U.rel}),$=I.index(Z),$===-1&&(I=I.add(Z),$=I.length-1)),ab||(ab=bb=!0,B.show(),U.returnFocus&&a(Z).blur().one(v,function(){a(this).focus()}),A.css({opacity:+U.opacity,cursor:U.overlayClose?"pointer":"auto"}).show(),U.w=f(U.initialWidth,"x"),U.h=f(U.initialHeight,"y"),eb.position(),y&&J.bind("resize."+z+" scroll."+z,function(){A.css({width:J.width(),height:J.height(),top:J.scrollTop(),left:J.scrollLeft()})}).trigger("resize."+z),i(r,U.onOpen),T.add(N).hide(),S.html(U.close).show()),eb.load(!0))}function l(){!B&&b.body&&(gb=!1,J=a(c),B=d(fb).attr({id:o,"class":x?p+(y?"IE6":"IE"):""}).hide(),A=d(fb,"Overlay",y?"position:absolute":"").hide(),C=d(fb,"Wrapper"),D=d(fb,"Content").append(K=d(fb,"LoadedContent","width:0; height:0; overflow:hidden"),M=d(fb,"LoadingOverlay").add(d(fb,"LoadingGraphic")),N=d(fb,"Title"),O=d(fb,"Current"),Q=d(fb,"Next"),R=d(fb,"Previous"),P=d(fb,"Slideshow").bind(r,j),S=d(fb,"Close")),C.append(d(fb).append(d(fb,"TopLeft"),E=d(fb,"TopCenter"),d(fb,"TopRight")),d(fb,!1,"clear:left").append(F=d(fb,"MiddleLeft"),D,G=d(fb,"MiddleRight")),d(fb,!1,"clear:left").append(d(fb,"BottomLeft"),H=d(fb,"BottomCenter"),d(fb,"BottomRight"))).find("div div").css({"float":"left"}),L=d(fb,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),T=Q.add(R).add(O).add(P),a(b.body).append(A,B.append(C,L)))}function m(){return B?(gb||(gb=!0,V=E.height()+H.height()+D.outerHeight(!0)-D.height(),W=F.width()+G.width()+D.outerWidth(!0)-D.width(),X=K.outerHeight(!0),Y=K.outerWidth(!0),B.css({"padding-bottom":V,"padding-right":W}),Q.click(function(){eb.next()}),R.click(function(){eb.prev()}),S.click(function(){eb.close()}),A.click(function(){U.overlayClose&&eb.close()}),a(b).bind("keydown."+p,function(a){var b=a.keyCode;ab&&U.escKey&&b===27&&(a.preventDefault(),eb.close()),ab&&U.arrowKey&&I[1]&&(b===37?(a.preventDefault(),R.click()):b===39&&(a.preventDefault(),Q.click()))}),a("."+q,b).live("click",function(a){a.which>1||a.shiftKey||a.altKey||a.metaKey||(a.preventDefault(),k(this))})),!0):!1}var n={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:!1,returnFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:undefined},o="colorbox",p="cbox",q=p+"Element",r=p+"_open",s=p+"_load",t=p+"_complete",u=p+"_cleanup",v=p+"_closed",w=p+"_purge",x=!a.support.opacity&&!a.support.style,y=x&&!c.XMLHttpRequest,z=p+"_IE6",A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb="div",gb;if(a.colorbox)return;a(l),eb=a.fn[o]=a[o]=function(b,c){var d=this;b=b||{},l();if(m()){if(!d[0]){if(d.selector)return d;d=a("<a/>"),b.open=!0}c&&(b.onComplete=c),d.each(function(){a.data(this,o,a.extend({},a.data(this,o)||n,b))}).addClass(q),(a.isFunction(b.open)&&b.open.call(d)||b.open)&&k(d[0])}return d},eb.position=function(a,b){function c(a){E[0].style.width=H[0].style.width=D[0].style.width=a.style.width,D[0].style.height=F[0].style.height=G[0].style.height=a.style.height}var d=0,e=0,g=B.offset(),h=J.scrollTop(),i=J.scrollLeft();J.unbind("resize."+p),B.css({top:-9e4,left:-9e4}),U.fixed&&!y?(g.top-=h,g.left-=i,B.css({position:"fixed"})):(d=h,e=i,B.css({position:"absolute"})),U.right!==!1?e+=Math.max(J.width()-U.w-Y-W-f(U.right,"x"),0):U.left!==!1?e+=f(U.left,"x"):e+=Math.round(Math.max(J.width()-U.w-Y-W,0)/2),U.bottom!==!1?d+=Math.max(J.height()-U.h-X-V-f(U.bottom,"y"),0):U.top!==!1?d+=f(U.top,"y"):d+=Math.round(Math.max(J.height()-U.h-X-V,0)/2),B.css({top:g.top,left:g.left}),a=B.width()===U.w+Y&&B.height()===U.h+X?0:a||0,C[0].style.width=C[0].style.height="9999px",B.dequeue().animate({width:U.w+Y,height:U.h+X,top:d,left:e},{duration:a,complete:function(){c(this),bb=!1,C[0].style.width=U.w+Y+W+"px",C[0].style.height=U.h+X+V+"px",U.reposition&&setTimeout(function(){J.bind("resize."+p,eb.position)},1),b&&b()},step:function(){c(this)}})},eb.resize=function(a){ab&&(a=a||{},a.width&&(U.w=f(a.width,"x")-Y-W),a.innerWidth&&(U.w=f(a.innerWidth,"x")),K.css({width:U.w}),a.height&&(U.h=f(a.height,"y")-X-V),a.innerHeight&&(U.h=f(a.innerHeight,"y")),!a.innerHeight&&!a.height&&(K.css({height:"auto"}),U.h=K.height()),K.css({height:U.h}),eb.position(U.transition==="none"?0:U.speed))},eb.prep=function(b){function c(){return U.w=U.w||K.width(),U.w=U.mw&&U.mw<U.w?U.mw:U.w,U.w}function f(){return U.h=U.h||K.height(),U.h=U.mh&&U.mh<U.h?U.mh:U.h,U.h}if(!ab)return;var h,j=U.transition==="none"?0:U.speed;K.remove(),K=d(fb,"LoadedContent").append(b),K.hide().appendTo(L.show()).css({width:c(),overflow:U.scrolling?"auto":"hidden"}).css({height:f()}).prependTo(D),L.hide(),a(_).css({"float":"none"}),y&&a("select").not(B.find("select")).filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one(u,function(){this.style.visibility="inherit"}),h=function(){function b(){x&&B[0].style.removeAttribute("filter")}var c,f,h=I.length,k,l="frameBorder",m="allowTransparency",n,q,r;if(!ab)return;n=function(){clearTimeout(db),M.hide(),i(t,U.onComplete)},x&&_&&K.fadeIn(100),N.html(U.title).add(K).show();if(h>1){typeof U.current=="string"&&O.html(U.current.replace("{current}",$+1).replace("{total}",h)).show(),Q[U.loop||$<h-1?"show":"hide"]().html(U.next),R[U.loop||$?"show":"hide"]().html(U.previous),U.slideshow&&P.show();if(U.preloading){c=[e(-1),e(1)];while(f=I[c.pop()])q=a.data(f,o).href||f.href,a.isFunction(q)&&(q=q.call(f)),g(q)&&(r=new Image,r.src=q)}}else T.hide();U.iframe?(k=d("iframe")[0],l in k&&(k[l]=0),m in k&&(k[m]="true"),k.name=p+ +(new Date),U.fastIframe?n():a(k).one("load",n),k.src=U.href,U.scrolling||(k.scrolling="no"),a(k).addClass(p+"Iframe").appendTo(K).one(w,function(){k.src="//about:blank"})):n(),U.transition==="fade"?B.fadeTo(j,1,b):b()},U.transition==="fade"?B.fadeTo(j,0,function(){eb.position(0,h)}):eb.position(j,h)},eb.load=function(b){var c,e,j=eb.prep;bb=!0,_=!1,Z=I[$],b||h(),i(w),i(s,U.onLoad),U.h=U.height?f(U.height,"y")-X-V:U.innerHeight&&f(U.innerHeight,"y"),U.w=U.width?f(U.width,"x")-Y-W:U.innerWidth&&f(U.innerWidth,"x"),U.mw=U.w,U.mh=U.h,U.maxWidth&&(U.mw=f(U.maxWidth,"x")-Y-W,U.mw=U.w&&U.w<U.mw?U.w:U.mw),U.maxHeight&&(U.mh=f(U.maxHeight,"y")-X-V,U.mh=U.h&&U.h<U.mh?U.h:U.mh),c=U.href,db=setTimeout(function(){M.show()},100),U.inline?(d(fb).hide().insertBefore(a(c)[0]).one(w,function(){a(this).replaceWith(K.children())}),j(a(c))):U.iframe?j(" "):U.html?j(U.html):g(c)?(a(_=new Image).addClass(p+"Photo").error(function(){U.title=!1,j(d(fb,"Error").text("This image could not be loaded"))}).load(function(){var a;_.onload=null,U.scalePhotos&&(e=function(){_.height-=_.height*a,_.width-=_.width*a},U.mw&&_.width>U.mw&&(a=(_.width-U.mw)/_.width,e()),U.mh&&_.height>U.mh&&(a=(_.height-U.mh)/_.height,e())),U.h&&(_.style.marginTop=Math.max(U.h-_.height,0)/2+"px"),I[1]&&(U.loop||I[$+1])&&(_.style.cursor="pointer",_.onclick=function(){eb.next()}),x&&(_.style.msInterpolationMode="bicubic"),setTimeout(function(){j(_)},1)}),setTimeout(function(){_.src=c},1)):c&&L.load(c,U.data,function(b,c,e){j(c==="error"?d(fb,"Error").text("Request unsuccessful: "+e.statusText):a(this).contents())})},eb.next=function(){!bb&&I[1]&&(U.loop||I[$+1])&&($=e(1),eb.load())},eb.prev=function(){!bb&&I[1]&&(U.loop||$)&&($=e(-1),eb.load())},eb.close=function(){ab&&!cb&&(cb=!0,ab=!1,i(u,U.onCleanup),J.unbind("."+p+" ."+z),A.fadeTo(200,0),B.stop().fadeTo(300,0,function(){B.add(A).css({opacity:1,cursor:"auto"}).hide(),i(w),K.remove(),setTimeout(function(){cb=!1,i(v,U.onClosed)},1)}))},eb.remove=function(){a([]).add(B).add(A).remove(),B=null,a("."+q).removeData(o).removeClass(q).die()},eb.element=function(){return a(Z)},eb.settings=n})(jQuery,document,this);